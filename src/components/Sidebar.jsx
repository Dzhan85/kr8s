import React, { useState } from "react";
import { BrowserRouter as Router, Switch, Route, Link } from "react-router-dom";
import Box from "@mui/material/Box";
import Drawer from "@mui/material/Drawer";
import Toolbar from "@mui/material/Toolbar";
import List from "@mui/material/List";
import Divider from "@mui/material/Divider";
import ListItem from "@mui/material/ListItem";
import styles from "../assets/css/Sidebar.module.css";

const drawerWidth = 240;

export default function Sidebar(props) {
  const [currentPath, setCurrentPath] = useState(window.location.pathname);

  return (
    <div>
      <Box sx={{ display: "flex" }}>
        <Drawer
          id="box"
          sx={{
            width: drawerWidth,
            flexShrink: 0,
            "& .MuiDrawer-paper": {
              width: drawerWidth,
              borderRight: "1px solid rgba(151, 150, 152, 0.25)",
              boxSizing: "border-box",
              // background: "linear-gradient(0deg, #FFFFFF 0%, rgba(47, 109, 182, 0.25) 0.01%, rgba(47, 109, 182, 0) 100%)",
              // opacity:" 1",
              background:
                "linear-gradient(180deg, rgba(28, 28, 33, 1) 40%, rgba(47, 109, 182, 0.1))",
            },
          }}
          variant="permanent"
          anchor="left"
        >
          <Toolbar />
          <List>
            <ListItem className={styles.logo}>
              <svg
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 479.1 521.61"
                width="40"
                height="40"
                fill="#fff"
              >
                <defs>{/* <style>.cls-1{fill:#fff;}</style> */}</defs>
                <g id="Layer_2" data-name="Layer 2">
                  <g id="Layer_1-2" data-name="Layer 1">
                    <path
                      class="cls-1"
                      d="M255.38,106.88v3.17a174.53,174.53,0,0,1,96.43,40l2.29-2.29c2.08-2.08,12.5-1.3,18.87-7.68s6-11.65,14.64-20.24,17-.2,17-.2,8.39,8.4-.2,17-13.86,8.26-20.24,14.64-5.6,16.79-7.68,18.87l-2.29,2.29c1.75,2.1,3.46,4.24,5.11,6.42l46-26.55a28.58,28.58,0,0,0,0-49.5l-171.46-99a28.65,28.65,0,0,0-28.58,0l-171.46,99a28.58,28.58,0,0,0,0,49.5l46,26.55q2.49-3.27,5.11-6.42l-2.29-2.29c-2.08-2.08-1.3-12.5-7.68-18.87s-11.65-6.05-20.24-14.64-.2-17-.2-17,8.4-8.4,17,.2,8.27,13.86,14.64,20.24,16.79,5.6,18.87,7.68l2.29,2.29a174.68,174.68,0,0,1,96.43-40v-3.17c0-2.95,7.92-9.76,7.92-18.78s-4-12.52-4-24.67,11.87-12.15,11.87-12.15,11.87,0,11.87,12.15-4,15.65-4,24.67S255.38,103.94,255.38,106.88Z"
                    />
                    <path
                      class="cls-1"
                      d="M207.69,230.44a62.83,62.83,0,0,1,16-6.66V142.92a141.92,141.92,0,0,0-73.16,30.38Z"
                    />
                    <path
                      class="cls-1"
                      d="M328.55,173.31a141.92,141.92,0,0,0-73.16-30.38v80.86a62.33,62.33,0,0,1,16,6.66Z"
                    />
                    <path
                      class="cls-1"
                      d="M381.33,300.54H300.47a62.66,62.66,0,0,1-6.65,16L351,373.7A142,142,0,0,0,381.33,300.54Z"
                    />
                    <path
                      class="cls-1"
                      d="M271.41,339a62.83,62.83,0,0,1-16,6.66v80.86a141.92,141.92,0,0,0,73.16-30.38Z"
                    />
                    <path
                      class="cls-1"
                      d="M363.1,213.47l-69,39.84a62.45,62.45,0,0,1,6.38,15.55h80.86A141.73,141.73,0,0,0,363.1,213.47Z"
                    />
                    <path
                      class="cls-1"
                      d="M464.81,171.25a28.29,28.29,0,0,0-28.58,0l-44.81,25.87a174.09,174.09,0,0,1,22.78,71.75h3.17c2.95,0,9.76,7.92,18.78,7.92s12.52-4,24.67-4S473,284.7,473,284.7s0,11.87-12.15,11.87-15.65-4-24.67-4-15.83,7.92-18.78,7.92H414.2a174.53,174.53,0,0,1-40,96.43l2.29,2.29c2.08,2.08,1.3,12.5,7.68,18.87s11.65,6.05,20.24,14.64.2,17,.2,17-8.4,8.4-17-.2-8.26-13.86-14.64-20.24-16.79-5.6-18.87-7.68l-2.29-2.29a174.68,174.68,0,0,1-96.43,40v3.17c0,1.71-2.66,4.73-4.9,8.71V493a28.52,28.52,0,0,0,42.87,24.75l171.46-99A28.64,28.64,0,0,0,479.1,394V196A28.28,28.28,0,0,0,464.81,171.25Z"
                    />
                    <path
                      class="cls-1"
                      d="M128.15,373.7l57.14-57.14a62.83,62.83,0,0,1-6.66-16H97.77A142,142,0,0,0,128.15,373.7Z"
                    />
                    <path
                      class="cls-1"
                      d="M150.55,396.1a141.92,141.92,0,0,0,73.16,30.38V345.62a62.66,62.66,0,0,1-16-6.65Z"
                    />
                    <path
                      class="cls-1"
                      d="M223.72,459.36a174.53,174.53,0,0,1-96.43-40L125,421.64c-2.08,2.08-12.5,1.3-18.87,7.68s-6,11.65-14.64,20.24-17,.2-17,.2-8.4-8.4.2-17,13.86-8.26,20.24-14.64,5.6-16.79,7.68-18.87l2.29-2.29a174.68,174.68,0,0,1-40-96.43H61.73c-2.95,0-9.76-7.92-18.78-7.92s-12.52,4-24.67,4S6.13,284.71,6.13,284.71s0-11.87,12.15-11.87,15.65,4,24.67,4,15.83-7.92,18.78-7.92H64.9a174,174,0,0,1,22.78-71.75L42.87,171.26a28.27,28.27,0,0,0-28.58,0A28.29,28.29,0,0,0,0,196V394a28.67,28.67,0,0,0,14.29,24.75l171.46,99A28.58,28.58,0,0,0,228.62,493V471.25c-2.24-4-4.9-7-4.9-8.71Z"
                    />
                    <path
                      class="cls-1"
                      d="M97.77,268.87h80.86A62.45,62.45,0,0,1,185,253.32l-69-39.84A141.62,141.62,0,0,0,97.77,268.87Z"
                    />
                  </g>
                </g>
              </svg>

              <svg
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 993.38 225.48"
                width="100"
                fill="#fff"
              >
                <defs>{/* <style>.cls-1{fill=#fff;}</style> */}</defs>
                <g id="Layer_2" data-name="Layer 2">
                  <g id="Layer_1-2" data-name="Layer 1">
                    <path
                      class="cls-1"
                      d="M432.18.31H216.4V0H174.12L95.51,93.64H37.89V0H0V225.48H37.89V131.84H95.51l78.61,93.64H216.4V216.4L129.34,112.74,192.2,37.89H425.28c5.22,0,8.35.58,9.39,1.72s1.57,4.34,1.57,9.55V97.7q0,7.83-1.57,9.4c-1.05,1.05-4.18,1.56-9.39,1.56H297.83c-5.22,0-8.41-.52-9.55-1.56s-1.72-4.17-1.72-9.4V52.37H249v173.1h37.58V146.55h78.92l66.08,78.92h42.28V216.7l-59.19-70.15h17.54A40.47,40.47,0,0,0,462.1,134q12.36-12.53,12.37-29.44v-62A40.93,40.93,0,0,0,462.1,12.82,40.62,40.62,0,0,0,432.18.31Z"
                    />
                    <path
                      class="cls-1"
                      d="M993.38,57.31v-15a40.51,40.51,0,0,0-12.53-29.91A40.93,40.93,0,0,0,951.1,0H809.86a40.38,40.38,0,0,0-29.59,12.37A40.74,40.74,0,0,0,767.9,42.28V89.57a40.87,40.87,0,0,0,12.37,29.75,40.12,40.12,0,0,0,29.59,12.53H944.21q7.83,0,9.55,1.56c1.14,1.05,1.72,4.18,1.72,9.39v34.45c0,5.22-.58,8.35-1.72,9.39s-4.34,1.57-9.55,1.57H556.5c-5.22,0-8.41-.57-9.55-1.72s-1.72-4.33-1.72-9.55V140.3q0-7.83,1.72-9.55T556.5,129H683.65c5.22,0,8.4.58,9.55,1.72s1.72,4.34,1.72,9.55v33.12h37.27v-40a41.29,41.29,0,0,0-1.72-11.74A42.69,42.69,0,0,0,725,110.24a44.77,44.77,0,0,0,5.32-11.59,41.49,41.49,0,0,0,1.88-11.9V34.45q-2.82-14.09-14.72-24.27A40.77,40.77,0,0,0,690.22,0H549.92a40.49,40.49,0,0,0-29.75,12.21A40.49,40.49,0,0,0,508,42V86.74a38.15,38.15,0,0,0,2,12.06,59.81,59.81,0,0,0,5.17,11.43A74.39,74.39,0,0,0,510,121.66a35.16,35.16,0,0,0-2,11.74v50.11a42,42,0,0,0,42,42H951.09a40.89,40.89,0,0,0,29.75-12.37,40.48,40.48,0,0,0,12.53-29.91V135.9q0-17.22-12.53-29.75T951.09,93.62H816.43q-7.83,0-9.39-1.57c-1-1-1.56-4.17-1.56-9.39V48.84q0-7.83,1.56-9.39t9.39-1.56H944.2q7.83,0,9.55,1.56c1.14,1,1.72,4.18,1.72,9.39V57.3h37.91ZM545.23,48.85q0-7.83,1.72-9.55t9.55-1.72H683.65c5.22,0,8.4.58,9.55,1.72s1.72,4.34,1.72,9.55V83.61c0,5.22-.58,8.41-1.72,9.55s-4.34,1.72-9.55,1.72H556.5c-5.22,0-8.41-.57-9.55-1.72s-1.72-4.33-1.72-9.55Z"
                    />
                  </g>
                </g>
              </svg>
            </ListItem>

            <Divider className={styles.divider} variant="middle" />

            <ListItem className={styles.pageNameContainer}>
              <div
                className={
                  currentPath === "/dash"
                    ? styles.clickedPage
                    : styles.unClickedPage
                }
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="16"
                  height="16"
                  fill="currentColor"
                  class="bi bi-house"
                  viewBox="0 0 16 16"
                >
                  <path
                    fill-rule="evenodd"
                    d="M2 13.5V7h1v6.5a.5.5 0 0 0 .5.5h9a.5.5 0 0 0 .5-.5V7h1v6.5a1.5 1.5 0 0 1-1.5 1.5h-9A1.5 1.5 0 0 1 2 13.5zm11-11V6l-2-2V2.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5z"
                  />
                  <path
                    fill-rule="evenodd"
                    d="M7.293 1.5a1 1 0 0 1 1.414 0l6.647 6.646a.5.5 0 0 1-.708.708L8 2.207 1.354 8.854a.5.5 0 1 1-.708-.708L7.293 1.5z"
                  />
                </svg>

                <Link
                  to="/dash"
                  onClick={() => {
                    setCurrentPath("/dash");
                  }}
                >
                  Dashboard
                </Link>
              </div>
            </ListItem>

            <Divider className={styles.divider} variant="middle" />

            <ListItem className={styles.pageNameContainer}>
              <div
                className={
                  currentPath === "/nodes"
                    ? styles.clickedPage
                    : styles.unClickedPage
                }
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="16"
                  height="16"
                  fill="currentColor"
                  class="bi bi-diagram-3"
                  viewBox="0 0 16 16"
                >
                  <path
                    fill-rule="evenodd"
                    d="M6 3.5A1.5 1.5 0 0 1 7.5 2h1A1.5 1.5 0 0 1 10 3.5v1A1.5 1.5 0 0 1 8.5 6v1H14a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-1 0V8h-5v.5a.5.5 0 0 1-1 0V8h-5v.5a.5.5 0 0 1-1 0v-1A.5.5 0 0 1 2 7h5.5V6A1.5 1.5 0 0 1 6 4.5v-1zM8.5 5a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1zM0 11.5A1.5 1.5 0 0 1 1.5 10h1A1.5 1.5 0 0 1 4 11.5v1A1.5 1.5 0 0 1 2.5 14h-1A1.5 1.5 0 0 1 0 12.5v-1zm1.5-.5a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5h-1zm4.5.5A1.5 1.5 0 0 1 7.5 10h1a1.5 1.5 0 0 1 1.5 1.5v1A1.5 1.5 0 0 1 8.5 14h-1A1.5 1.5 0 0 1 6 12.5v-1zm1.5-.5a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5h-1zm4.5.5a1.5 1.5 0 0 1 1.5-1.5h1a1.5 1.5 0 0 1 1.5 1.5v1a1.5 1.5 0 0 1-1.5 1.5h-1a1.5 1.5 0 0 1-1.5-1.5v-1zm1.5-.5a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5h-1z"
                  />
                </svg>

                <Link
                  to="/nodes"
                  onClick={() => {
                    setCurrentPath("/nodes");
                  }}
                >
                  Nodes
                </Link>
              </div>
            </ListItem>

            <Divider className={styles.divider} variant="middle" />

            <ListItem className={styles.pageNameContainer}>
              <div
                className={
                  currentPath === "/pods"
                    ? styles.clickedPage
                    : styles.unClickedPage
                }
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="16"
                  height="16"
                  fill="currentColor"
                  class="bi bi-box"
                  viewBox="0 0 16 16"
                >
                  <path d="M8.186 1.113a.5.5 0 0 0-.372 0L1.846 3.5 8 5.961 14.154 3.5 8.186 1.113zM15 4.239l-6.5 2.6v7.922l6.5-2.6V4.24zM7.5 14.762V6.838L1 4.239v7.923l6.5 2.6zM7.443.184a1.5 1.5 0 0 1 1.114 0l7.129 2.852A.5.5 0 0 1 16 3.5v8.662a1 1 0 0 1-.629.928l-7.185 2.874a.5.5 0 0 1-.372 0L.63 13.09a1 1 0 0 1-.63-.928V3.5a.5.5 0 0 1 .314-.464L7.443.184z" />
                </svg>

                <Link
                  to="/pods"
                  onClick={() => {
                    setCurrentPath("/pods");
                  }}
                >
                  Pods
                </Link>
              </div>
            </ListItem>

            <Divider className={styles.divider} variant="middle" />
          </List>
        </Drawer>
      </Box>
    </div>
  );
}
